/*

 FullCalendar v1.4.11
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2010 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Tue Feb 22 21:47:22 2011 -0800

*/
(function(l,ga){function hb(a){l.extend(true,Oa,a)}function Db(a,b,f){function e(q){if(I){s();r();ka();N(q)}else g()}function g(){P=b.theme?"ui":"fc";a.addClass("fc");b.isRTL&&a.addClass("fc-rtl");b.theme&&a.addClass("ui-widget");I=l("<div class='fc-content "+P+"-widget-content' style='position:relative'/>").prependTo(a);L=new Eb(W,b);(D=L.render())&&a.prepend(D);z(b.defaultView);l(window).resize(ha);u()||h()}function h(){setTimeout(function(){!v.start&&u()&&N()},0)}function m(){l(window).unbind("resize",
ha);L.destroy();I.remove();a.removeClass("fc fc-rtl fc-ui-widget")}function p(){return Q.offsetWidth!==0}function u(){return l("body")[0].offsetWidth!==0}function z(q){if(!v||q!=v.name){n++;A();var x=v,J;if(x){(x.beforeHide||ib)();Ra(I,I.height());x.element.hide()}else Ra(I,1);I.css("overflow","hidden");if(v=i[q])v.element.show();else v=i[q]=new Fa[q](J=j=l("<div class='fc-view fc-view-"+q+"' style='position:absolute'/>").appendTo(I),W);x&&L.deactivateButton(x.name);L.activateButton(q);N();I.css("overflow",
"");x&&Ra(I,1);J||(v.afterShow||ib)();n--}}function N(q){if(p()){n++;A();E===ga&&s();var x=false;if(!v.start||q||t<v.start||t>=v.end){v.render(t,q||0);Y(true);x=true}else if(v.sizeDirty){v.clearEvents();Y();x=true}else if(v.eventsDirty){v.clearEvents();x=true}v.sizeDirty=false;v.eventsDirty=false;da(x);k=a.outerWidth();L.updateTitle(v.title);q=new Date;q>=v.start&&q<v.end?L.disableButton("today"):L.enableButton("today");n--;v.trigger("viewDisplay",Q)}}function O(){r();if(p()){s();Y();A();v.clearEvents();
v.renderEvents(U);v.sizeDirty=false}}function r(){l.each(i,function(q,x){x.sizeDirty=true})}function s(){E=b.contentHeight?b.contentHeight:b.height?b.height-(D?D.height():0)-Sa(I[0]):Math.round(I.width()/Math.max(b.aspectRatio,0.5))}function Y(q){n++;v.setHeight(E,q);if(j){j.css("position","relative");j=null}v.setWidth(I.width(),q);n--}function ha(){if(!n)if(v.start){var q=++d;setTimeout(function(){if(q==d&&!n&&p())if(k!=(k=a.outerWidth())){n++;O();v.trigger("windowResize",Q);n--}},200)}else h()}
function da(q){if(!b.lazyFetching||w(v.visStart,v.visEnd))X();else q&&aa()}function X(){K(v.visStart,v.visEnd)}function la(q){U=q;aa()}function oa(q){aa(q)}function aa(q){ka();if(p()){v.clearEvents();v.renderEvents(U,q);v.eventsDirty=false}}function ka(){l.each(i,function(q,x){x.eventsDirty=true})}function ca(q,x,J){v.select(q,x,J===ga?true:J)}function A(){v&&v.unselect()}function V(){N(-1)}function c(){N(1)}function B(){Ta(t,-1);N()}function F(){Ta(t,1);N()}function G(){t=new Date;N()}function fa(q,
x,J){if(q instanceof Date)t=C(q);else jb(t,q,x,J);N()}function na(q,x,J){q!==ga&&Ta(t,q);x!==ga&&Ua(t,x);J!==ga&&S(t,J);N()}function ia(){return C(t)}function H(){return v}function T(q,x){if(x===ga)return b[q];if(q=="height"||q=="contentHeight"||q=="aspectRatio"){b[q]=x;O()}}function va(q,x){if(b[q])return b[q].apply(x||Q,Array.prototype.slice.call(arguments,2))}var W=this;W.options=b;W.render=e;W.destroy=m;W.refetchEvents=X;W.reportEvents=la;W.reportEventChange=oa;W.rerenderEvents=aa;W.changeView=
z;W.select=ca;W.unselect=A;W.prev=V;W.next=c;W.prevYear=B;W.nextYear=F;W.today=G;W.gotoDate=fa;W.incrementDate=na;W.formatDate=function(q,x){return Ha(q,x,b)};W.formatDates=function(q,x,J){return Va(q,x,J,b)};W.getDate=ia;W.getView=H;W.option=T;W.trigger=va;Fb.call(W,b,f);var w=W.isFetchNeeded,K=W.fetchEvents,Q=a[0],L,D,I,P,v,i={},k,E,j,d=0,n=0,t=new Date,U=[],Z;jb(t,b.year,b.month,b.date);b.droppable&&l(document).bind("dragstart",function(q,x){var J=q.target,ja=l(J);if(!ja.parents(".fc").length){var ma=
b.dropAccept;if(l.isFunction(ma)?ma.call(J,ja):ja.is(ma)){Z=J;v.dragStart(Z,q,x)}}}).bind("dragstop",function(q,x){if(Z){v.dragStop(Z,q,x);Z=null}})}function Eb(a,b){function f(){r=b.theme?"ui":"fc";var s=b.header;if(s)return O=l("<table class='fc-header'/>").append(l("<tr/>").append(l("<td class='fc-header-left'/>").append(g(s.left))).append(l("<td class='fc-header-center'/>").append(g(s.center))).append(l("<td class='fc-header-right'/>").append(g(s.right))))}function e(){O.remove()}function g(s){if(s){var Y=
l("<tr/>");l.each(s.split(" "),function(ha){ha>0&&Y.append("<td><span class='fc-header-space'/></td>");var da;l.each(this.split(","),function(X,la){if(la=="title"){Y.append("<td><h2 class='fc-header-title'>&nbsp;</h2></td>");da&&da.addClass(r+"-corner-right");da=null}else{var oa;if(a[la])oa=a[la];else if(Fa[la])oa=function(){aa.removeClass(r+"-state-hover");a.changeView(la)};if(oa){da&&da.addClass(r+"-no-right");var aa;X=b.theme?Wa(b.buttonIcons,la):null;var ka=Wa(b.buttonText,la);if(X)aa=l("<div class='fc-button-"+
la+" ui-state-default'><a><span class='ui-icon ui-icon-"+X+"'/></a></div>");else if(ka)aa=l("<div class='fc-button-"+la+" "+r+"-state-default'><a><span>"+ka+"</span></a></div>");if(aa){aa.click(function(){aa.hasClass(r+"-state-disabled")||oa()}).mousedown(function(){aa.not("."+r+"-state-active").not("."+r+"-state-disabled").addClass(r+"-state-down")}).mouseup(function(){aa.removeClass(r+"-state-down")}).hover(function(){aa.not("."+r+"-state-active").not("."+r+"-state-disabled").addClass(r+"-state-hover")},
function(){aa.removeClass(r+"-state-hover").removeClass(r+"-state-down")}).appendTo(l("<td/>").appendTo(Y));da?da.addClass(r+"-no-right"):aa.addClass(r+"-corner-left");da=aa}}}});da&&da.addClass(r+"-corner-right")});return l("<table/>").append(Y)}}function h(s){O.find("h2.fc-header-title").html(s)}function m(s){O.find("div.fc-button-"+s).addClass(r+"-state-active")}function p(s){O.find("div.fc-button-"+s).removeClass(r+"-state-active")}function u(s){O.find("div.fc-button-"+s).addClass(r+"-state-disabled")}
function z(s){O.find("div.fc-button-"+s).removeClass(r+"-state-disabled")}var N=this;N.render=f;N.destroy=e;N.updateTitle=h;N.activateButton=m;N.deactivateButton=p;N.disableButton=u;N.enableButton=z;var O=l([]),r}function Fb(a,b){function f(c,B){return!oa||c<oa||B>aa}function e(c,B){oa=c;aa=B;V=[];c=++ka;ca=B=b.length;for(var F=0;F<B;F++)g(b[F],c)}function g(c,B){h(c,function(F){if(B==ka){for(var G=0;G<F.length;G++){Y(F[G]);F[G].source=c}V=V.concat(F);ca--;ca||la(V)}})}function h(c,B){if(typeof c==
"string"){var F={};F[a.startParam]=Math.round(oa.getTime()/1E3);F[a.endParam]=Math.round(aa.getTime()/1E3);if(a.cacheParam)F[a.cacheParam]=(new Date).getTime();r();l.ajax({url:c,dataType:"json",data:F,cache:a.cacheParam||false,success:function(G){s();B(G)}})}else if(l.isFunction(c)){r();c(C(oa),C(aa),function(G){s();B(G)})}else B(c)}function m(c){b.push(c);ca++;g(c,ka)}function p(c){b=l.grep(b,function(B){return B!=c});V=l.grep(V,function(B){return B.source!=c});la(V)}function u(c){var B,F=V.length,
G,fa=X().defaultEventEnd,na=c.start-c._start,ia=c.end?c.end-(c._end||fa(c)):0;for(B=0;B<F;B++){G=V[B];if(G._id==c._id&&G!=c){G.start=new Date(+G.start+na);G.end=c.end?G.end?new Date(+G.end+ia):new Date(+fa(G)+ia):null;G.title=c.title;G.url=c.url;G.allDay=c.allDay;G.className=c.className;G.editable=c.editable;Y(G)}}Y(c);la(V)}function z(c,B){Y(c);if(!c.source){if(B){b[0].push(c);c.source=b[0]}V.push(c)}la(V)}function N(c){if(c){if(!l.isFunction(c)){var B=c+"";c=function(G){return G._id==B}}V=l.grep(V,
c,true);for(F=0;F<b.length;F++)if(typeof b[F]=="object")b[F]=l.grep(b[F],c,true)}else{V=[];for(var F=0;F<b.length;F++)if(typeof b[F]=="object")b[F]=[]}la(V)}function O(c){if(l.isFunction(c))return l.grep(V,c);else if(c){c+="";return l.grep(V,function(B){return B._id==c})}return V}function r(){A++||da("loading",null,true)}function s(){--A||da("loading",null,false)}function Y(c){c._id=c._id||(c.id===ga?"_fc"+Gb++:c.id+"");if(c.date){if(!c.start)c.start=c.date;delete c.date}c._start=C(c.start=Xa(c.start,
a.ignoreTimezone));c.end=Xa(c.end,a.ignoreTimezone);if(c.end&&c.end<=c.start)c.end=null;c._end=c.end?C(c.end):null;if(c.allDay===ga)c.allDay=a.allDayDefault;if(c.className){if(typeof c.className=="string")c.className=c.className.split(/\s+/)}else c.className=[]}var ha=this;ha.isFetchNeeded=f;ha.fetchEvents=e;ha.addEventSource=m;ha.removeEventSource=p;ha.updateEvent=u;ha.renderEvent=z;ha.removeEvents=N;ha.clientEvents=O;ha.normalizeEvent=Y;var da=ha.trigger,X=ha.getView,la=ha.reportEvents,oa,aa,ka=
0,ca=0,A=0,V=[];b.unshift([])}function Hb(a,b){function f(p,u){if(u){Ua(p,u);p.setDate(1)}p=C(p,true);p.setDate(1);u=Ua(C(p),1);var z=C(p),N=C(u),O=g("firstDay"),r=g("weekends")?0:1;if(r){ta(z);ta(N,-1,true)}S(z,-((z.getDay()-Math.max(O,r)+7)%7));S(N,(7-N.getDay()+Math.max(O,r))%7);O=Math.round((N-z)/(kb*7));if(g("weekMode")=="fixed"){S(N,(6-O)*7);O=6}e.title=m(p,g("titleFormat"));e.start=p;e.end=u;e.visStart=z;e.visEnd=N;h(O,r?5:7,true)}var e=this;e.render=f;Ya.call(e,a,b,"month");var g=e.opt,h=
e.renderBasic,m=b.formatDate}function Ib(a,b){function f(p,u){u&&S(p,u*7);p=S(C(p),-((p.getDay()-g("firstDay")+7)%7));u=S(C(p),7);var z=C(p),N=C(u),O=g("weekends");if(!O){ta(z);ta(N,-1,true)}e.title=m(z,S(C(N),-1),g("titleFormat"));e.start=p;e.end=u;e.visStart=z;e.visEnd=N;h(1,O?7:5,false)}var e=this;e.render=f;Ya.call(e,a,b,"basicWeek");var g=e.opt,h=e.renderBasic,m=b.formatDates}function Jb(a,b){function f(p,u){if(u){S(p,u);g("weekends")||ta(p,u<0?-1:1)}e.title=m(p,g("titleFormat"));e.start=e.visStart=
C(p,true);e.end=e.visEnd=S(C(e.start),1);h(1,1,false)}var e=this;e.render=f;Ya.call(e,a,b,"basicDay");var g=e.opt,h=e.renderBasic,m=b.formatDate}function Ya(a,b,f){function e(j,d,n){w=j;K=d;if(ia=V("isRTL")){H=-1;T=K-1}else{H=1;T=0}va=V("firstDay");W=V("weekends")?0:1;var t=V("theme")?"ui":"fc",U=V("columnFormat"),Z=A.start.getMonth(),q=Ga(new Date),x,J=C(A.visStart);if(P){B();d=P.find("tr").length;if(w<d)P.find("tr:gt("+(w-1)+")").remove();else if(w>d){j="";for(d=d;d<w;d++){j+="<tr class='fc-week"+
d+"'>";for(x=0;x<K;x++){j+="<td class='fc-"+Ca[J.getDay()]+" "+t+"-state-default fc-new fc-day"+(d*K+x)+(x==T?" fc-leftmost":"")+"'>"+(n?"<div class='fc-day-number'></div>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td>";S(J,1);W&&ta(J)}j+="</tr>"}P.append(j)}m(P.find("td.fc-new").removeClass("fc-new"));J=C(A.visStart);P.find("td").each(function(){var ma=l(this);if(w>1)J.getMonth()==Z?ma.removeClass("fc-other-month"):ma.addClass("fc-other-month");+J==+q?ma.removeClass("fc-not-today").addClass("fc-today").addClass(t+
"-state-highlight"):ma.addClass("fc-not-today").removeClass("fc-today").removeClass(t+"-state-highlight");ma.find("div.fc-day-number").text(J.getDate());S(J,1);W&&ta(J)});if(w==1){J=C(A.visStart);I.find("th").each(function(ma,$){l($).text(na(J,U));$.className=$.className.replace(/^fc-\w+(?= )/,"fc-"+Ca[J.getDay()]);S(J,1);W&&ta(J)});J=C(A.visStart);P.find("td").each(function(ma,$){$.className=$.className.replace(/^fc-\w+(?= )/,"fc-"+Ca[J.getDay()]);S(J,1);W&&ta(J)})}}else{var ja=l("<table/>").appendTo(a);
j="<thead><tr>";for(d=0;d<K;d++){j+="<th class='fc-"+Ca[J.getDay()]+" "+t+"-state-default"+(d==T?" fc-leftmost":"")+"'>"+na(J,U)+"</th>";S(J,1);W&&ta(J)}I=l(j+"</tr></thead>").appendTo(ja);j="<tbody>";J=C(A.visStart);for(d=0;d<w;d++){j+="<tr class='fc-week"+d+"'>";for(x=0;x<K;x++){j+="<td class='fc-"+Ca[J.getDay()]+" "+t+"-state-default fc-day"+(d*K+x)+(x==T?" fc-leftmost":"")+(w>1&&J.getMonth()!=Z?" fc-other-month":"")+(+J==+q?" fc-today "+t+"-state-highlight":" fc-not-today")+"'>"+(n?"<div class='fc-day-number'>"+
J.getDate()+"</div>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td>";S(J,1);W&&ta(J)}j+="</tr>"}P=l(j+"</tbody>").appendTo(ja);m(P.find("td"));v=l("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}}function g(j){D=j;j=P.find("tr td:first-child");var d=D-I.height(),n;if(V("weekMode")=="variable")n=d=Math.floor(d/(w==1?2:6));else{n=Math.floor(d/w);d=d-n*(w-1)}if(Za===ga){var t=P.find("tr:first").find("td:first");t.height(n);Za=n!=t.height()}if(Za){j.slice(0,
-1).height(n);j.slice(-1).height(d)}else{Pa(j.slice(0,-1),n);Pa(j.slice(-1),d)}}function h(j){L=j;E.clear();Q=Math.floor(L/K);Ia(I.find("th").slice(0,-1),Q)}function m(j){j.click(p).mousedown(fa)}function p(j){if(!V("selectable")){var d=parseInt(this.className.match(/fc\-day(\d+)/)[1]);d=S(C(A.visStart),Math.floor(d/K)*7+d%K);c("dayClick",this,d,true,j)}}function u(j,d,n){n&&i.build();n=C(A.visStart);for(var t=S(C(n),K),U=0;U<w;U++){var Z=new Date(Math.max(n,j)),q=new Date(Math.min(t,d));if(Z<q){var x;
if(ia){x=Aa(q,n)*H+T+1;Z=Aa(Z,n)*H+T+1}else{x=Aa(Z,n);Z=Aa(q,n)}m(z(U,x,U,Z-1))}S(n,7);S(t,7)}}function z(j,d,n,t){j=i.rect(j,d,n,t,a);return F(j,a)}function N(j){return C(j)}function O(j,d){u(j,S(C(d),1),true)}function r(){G()}function s(j,d){k.start(function(n){G();n&&z(n.row,n.col,n.row,n.col)},d)}function Y(j,d,n){var t=k.stop();G();if(t){t=aa(t);c("drop",j,t,true,d,n)}}function ha(j){return C(j.start)}function da(j){return E.left(j)}function X(j){return E.right(j)}function la(j){return(j-Math.max(va,
W)+K)%K}function oa(j){return{row:Math.floor(Aa(j,A.visStart)/7),col:la(j.getDay())*H+T}}function aa(j){return S(C(A.visStart),j.row*7+j.col*H+T)}function ka(j){return P.find("tr:eq("+j+")")}function ca(){return{left:0,right:L}}var A=this;A.renderBasic=e;A.setHeight=g;A.setWidth=h;A.renderDayOverlay=u;A.defaultSelectionEnd=N;A.renderSelection=O;A.clearSelection=r;A.dragStart=s;A.dragStop=Y;A.defaultEventEnd=ha;A.getHoverListener=function(){return k};A.colContentLeft=da;A.colContentRight=X;A.dayOfWeekCol=
la;A.dateCell=oa;A.cellDate=aa;A.cellIsAllDay=function(){return true};A.allDayTR=ka;A.allDayBounds=ca;A.getRowCnt=function(){return w};A.getColCnt=function(){return K};A.getColWidth=function(){return Q};A.getDaySegmentContainer=function(){return v};lb.call(A,a,b,f);mb.call(A);nb.call(A);Kb.call(A);var V=A.opt,c=A.trigger,B=A.clearEvents,F=A.renderOverlay,G=A.clearOverlays,fa=A.daySelectionMousedown,na=b.formatDate,ia,H,T,va,W,w,K,Q,L,D,I,P,v,i,k,E;ob(a.addClass("fc-grid"));i=new pb(function(j,d){var n,
t,U,Z=P.find("tr:first td");if(ia)Z=l(Z.get().reverse());Z.each(function(q,x){n=l(x);t=n.offset().left;if(q)U[1]=t;U=[t];d[q]=U});U[1]=t+n.outerWidth();P.find("tr").each(function(q,x){n=l(x);t=n.offset().top;if(q)U[1]=t;U=[t];j[q]=U});U[1]=t+n.outerHeight()});k=new qb(i);E=new rb(function(j){return P.find("td:eq("+j+") div div")})}function Kb(){function a(ca,A){u(ca);aa(f(ca),A)}function b(){z();Y().empty()}function f(ca){var A=la(),V=oa(),c=C(h.visStart);V=S(C(c),V);var B=l.map(ca,Na),F,G,fa,na,
ia,H,T=[];for(F=0;F<A;F++){G=$a(ab(ca,B,c,V));for(fa=0;fa<G.length;fa++){na=G[fa];for(ia=0;ia<na.length;ia++){H=na[ia];H.row=F;H.level=fa;T.push(H)}}S(c,7);S(V,7)}return T}function e(ca,A,V){N(ca,A);if(ca.editable||ca.editable===ga&&m("editable")){g(ca,A);V.isEnd&&ka(ca,A,V)}}function g(ca,A){if(!m("disableDragging")&&A.draggable){var V=ha(),c;A.draggable({zIndex:9,delay:50,opacity:m("dragOpacity"),revertDuration:m("dragRevertDuration"),start:function(B,F){p("eventDragStart",A,ca,B,F);r(ca,A);V.start(function(G,
fa,na,ia){A.draggable("option","revert",!G||!na&&!ia);X();if(G){c=na*7+ia*(m("isRTL")?-1:1);da(S(C(ca.start),c),S(Na(ca),c))}else c=0},B,"drag")},stop:function(B,F){V.stop();X();p("eventDragStop",A,ca,B,F);if(c){A.find("a").removeAttr("href");s(this,ca,c,0,ca.allDay,B,F)}else{l.browser.msie&&A.css("filter","");O(ca,A)}}})}}var h=this;h.renderEvents=a;h.compileDaySegs=f;h.clearEvents=b;h.bindDaySeg=e;sb.call(h);var m=h.opt,p=h.trigger,u=h.reportEvents,z=h.reportEventClear,N=h.eventElementHandlers,
O=h.showEvents,r=h.hideEvents,s=h.eventDrop,Y=h.getDaySegmentContainer,ha=h.getHoverListener,da=h.renderDayOverlay,X=h.clearOverlays,la=h.getRowCnt,oa=h.getColCnt,aa=h.renderDaySegs,ka=h.resizableDayEvent}function Lb(a,b){function f(p,u){u&&S(p,u*7);p=S(C(p),-((p.getDay()-g("firstDay")+7)%7));u=S(C(p),7);var z=C(p),N=C(u),O=g("weekends");if(!O){ta(z);ta(N,-1,true)}e.title=m(z,S(C(N),-1),g("titleFormat"));e.start=p;e.end=u;e.visStart=z;e.visEnd=N;h(O?7:5)}var e=this;e.render=f;tb.call(e,a,b,"agendaWeek");
var g=e.opt,h=e.renderAgenda,m=b.formatDates}function Mb(a,b){function f(p,u){if(u){S(p,u);g("weekends")||ta(p,u<0?-1:1)}u=C(p,true);var z=S(C(u),1);e.title=m(p,g("titleFormat"));e.start=e.visStart=u;e.end=e.visEnd=z;h(1)}var e=this;e.render=f;tb.call(e,a,b,"agendaDay");var g=e.opt,h=e.renderAgenda,m=b.formatDate}function tb(a,b,f){function e(o){d=o;ja=T("theme")?"ui":"fc";$=T("weekends")?0:1;ma=T("firstDay");if(qa=T("isRTL")){ea=-1;pa=d-1}else{ea=1;pa=0}xa=bb(T("minTime"));Ba=bb(T("maxTime"));o=
qa?S(C(H.visEnd),-1):C(H.visStart);var y=C(o),M=Ga(new Date),R=T("columnFormat");if(v){W();v.find("tr:first th").slice(1,-1).each(function(Ja,ya){l(ya).text(P(y,R));ya.className=ya.className.replace(/^fc-\w+(?= )/,"fc-"+Ca[y.getDay()]);S(y,ea);$&&ta(y,ea)});y=C(o);j.find("td").each(function(Ja,ya){ya.className=ya.className.replace(/^fc-\w+(?= )/,"fc-"+Ca[y.getDay()]);+y==+M?l(ya).removeClass("fc-not-today").addClass("fc-today").addClass(ja+"-state-highlight"):l(ya).addClass("fc-not-today").removeClass("fc-today").removeClass(ja+
"-state-highlight");S(y,ea);$&&ta(y,ea)})}else{var ba,ua,Da=T("slotMinutes")%15==0,ra="<div class='fc-agenda-head' style='position:relative;z-index:4'><table style='width:100%'><tr class='fc-first"+(T("allDaySlot")?"":" fc-last")+"'><th class='fc-leftmost "+ja+"-state-default'>&nbsp;</th>";for(ba=0;ba<d;ba++){ra+="<th class='fc-"+Ca[y.getDay()]+" "+ja+"-state-default'>"+P(y,R)+"</th>";S(y,ea);$&&ta(y,ea)}ra+="<th class='"+ja+"-state-default'>&nbsp;</th></tr>";if(T("allDaySlot"))ra+="<tr class='fc-all-day'><th class='fc-axis fc-leftmost "+
ja+"-state-default'>"+T("allDayText")+"</th><td colspan='"+d+"' class='"+ja+"-state-default'><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></td><th class='"+ja+"-state-default'>&nbsp;</th></tr><tr class='fc-divider fc-last'><th colspan='"+(d+2)+"' class='"+ja+"-state-default fc-leftmost'><div/></th></tr>";ra+="</table></div>";v=l(ra).appendTo(a);z(v.find("td"));ub=l("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(v);y=vb();var cb=sa(C(y),Ba);sa(y,
xa);ra="<table>";for(ba=0;y<cb;ba++){ua=y.getMinutes();ra+="<tr class='"+(!ba?"fc-first":!ua?"":"fc-minor")+"'><th class='fc-axis fc-leftmost "+ja+"-state-default'>"+(!Da||!ua?P(y,T("axisFormat")):"&nbsp;")+"</th><td class='fc-slot"+ba+" "+ja+"-state-default'><div style='position:relative'>&nbsp;</div></td></tr>";sa(y,T("slotMinutes"));n++}ra+="</table>";i=l("<div class='fc-agenda-body' style='position:relative;z-index:2;overflow:auto'/>").append(k=l("<div style='position:relative;overflow:hidden'>").append(E=
l(ra))).appendTo(a);N(i.find("td"));wb=l("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(k);y=C(o);ra="<div class='fc-agenda-bg' style='position:absolute;z-index:1'><table style='width:100%;height:100%'><tr class='fc-first'>";for(ba=0;ba<d;ba++){ra+="<td class='fc-"+Ca[y.getDay()]+" "+ja+"-state-default "+(!ba?"fc-leftmost ":"")+(+y==+M?ja+"-state-highlight fc-today":"fc-not-today")+"'><div class='fc-day-content'><div>&nbsp;</div></div></td>";S(y,ea);$&&ta(y,ea)}ra+="</tr></table></div>";
j=l(ra).appendTo(a)}}function g(o,y){if(o===ga)o=x;x=o;db={};o=o-v.height();o=Math.min(o,E.height());i.height(o);Z=i.find("tr:first div").height()+1;y&&m()}function h(o){q=o;Qa.clear();i.width(o).css("overflow","auto");E.width("");var y=v.find("tr:first th"),M=v.find("tr.fc-all-day th:last"),R=j.find("td"),ba=i[0].clientWidth;E.width(ba);ba=i[0].clientWidth;E.width(ba);t=0;Ia(v.find("tr:lt(2) th:first").add(i.find("tr:first th")).width(1).each(function(){t=Math.max(t,l(this).outerWidth())}),t);U=
Math.floor((ba-t)/d);Ia(R.slice(0,-1),U);Ia(y.slice(1,-2),U);if(o!=ba){Ia(y.slice(-2,-1),ba-t-U*(d-1));y.slice(-1).show();M.show()}else{i.css("overflow","hidden");y.slice(-2,-1).width("");y.slice(-1).hide();M.hide()}j.css({top:v.find("tr").height(),left:t,width:ba-t,height:x})}function m(){var o=vb(),y=C(o);y.setHours(T("firstHour"));var M=oa(o,y)+1;o=function(){i.scrollTop(M)};o();setTimeout(o,0)}function p(){J=i.scrollTop()}function u(){i.scrollTop(J)}function z(o){o.click(O).mousedown(D)}function N(o){o.click(O).mousedown(fa)}
function O(o){if(!T("selectable")){var y=Math.min(d-1,Math.floor((o.pageX-j.offset().left)/U));y=S(C(H.visStart),y*ea+pa);var M=this.className.match(/fc-slot(\d+)/);if(M){M=parseInt(M[1])*T("slotMinutes");var R=Math.floor(M/60);y.setHours(R);y.setMinutes(M%60+xa);va("dayClick",this,y,false,o)}else va("dayClick",this,y,true,o)}}function r(o,y,M){M&&wa.build();var R=C(H.visStart);if(qa){M=Aa(y,R)*ea+pa+1;o=Aa(o,R)*ea+pa+1}else{M=Aa(o,R);o=Aa(y,R)}M=Math.max(0,M);o=Math.min(d,o);M<o&&z(s(0,M,0,o-1))}
function s(o,y,M,R){o=wa.rect(o,y,M,R,v);return w(o,v)}function Y(o,y){for(var M=C(H.visStart),R=S(C(M),1),ba=0;ba<d;ba++){var ua=new Date(Math.max(M,o)),Da=new Date(Math.min(R,y));if(ua<Da){var ra=ba*ea+pa;ra=wa.rect(0,ra,0,ra,k);ua=oa(M,ua);Da=oa(M,Da);ra.top=ua;ra.height=Da-ua;N(w(ra,k))}S(M,1);S(R,1)}}function ha(o){return t+Qa.left(o)}function da(o){return t+Qa.right(o)}function X(o){return(o-Math.max(ma,$)+d)%d*ea+pa}function la(o){return{row:Math.floor(Aa(o,H.visStart)/7),col:X(o.getDay())}}
function oa(o,y){o=C(o,true);if(y<sa(C(o),xa))return 0;if(y>=sa(C(o),Ba))return k.height();o=T("slotMinutes");y=y.getHours()*60+y.getMinutes()-xa;var M=Math.floor(y/o),R=db[M];if(R===ga)R=db[M]=i.find("tr:eq("+M+") td div")[0].offsetTop;return Math.max(0,Math.round(R-1+Z*(y%o/o)))}function aa(o){var y=S(C(H.visStart),o.col*ea+pa);o=o.row;T("allDaySlot")&&o--;o>=0&&sa(y,xa+o*T("slotMinutes"));return y}function ka(o){return T("allDaySlot")&&!o.row}function ca(){return{left:t,right:q}}function A(){return v.find("tr.fc-all-day")}
function V(o){var y=C(o.start);if(o.allDay)return y;return sa(y,T("defaultEventMinutes"))}function c(o,y){if(y)return C(o);return sa(C(o),T("slotMinutes"))}function B(o,y,M){if(M)T("allDaySlot")&&r(o,S(C(y),1),true);else F(o,y)}function F(o,y){var M=T("selectHelper");wa.build();if(M){var R=Aa(o,H.visStart)*ea+pa;if(R>=0&&R<d){R=wa.rect(0,R,0,R,k);var ba=oa(o,o),ua=oa(o,y);if(ua>ba){R.top=ba;R.height=ua-ba;R.left+=2;R.width-=5;if(l.isFunction(M)){if(o=M(o,y)){R.position="absolute";R.zIndex=8;za=l(o).css(R).appendTo(k)}}else{za=
l(I({title:"",start:o,end:y,className:[],editable:false},R,"fc-event fc-event-vert fc-corner-top fc-corner-bottom "));l.browser.msie&&za.find("span.fc-event-bg").hide();za.css("opacity",T("dragOpacity"))}if(za){N(za);k.append(za);Ia(za,R.width,true);Pa(za,R.height,true)}}}}else Y(o,y)}function G(){K();if(za){za.remove();za=null}}function fa(o){if(o.which==1&&T("selectable")){L(o);var y=this,M;Ka.start(function(R,ba){G();if(R&&R.col==ba.col&&!ka(R)){ba=aa(ba);R=aa(R);M=[ba,sa(C(ba),T("slotMinutes")),
R,sa(C(R),T("slotMinutes"))].sort(eb);F(M[0],M[3])}else M=null},o);l(document).one("mouseup",function(R){Ka.stop();if(M){+M[0]==+M[1]&&va("dayClick",y,M[0],false,R);Q(M[0],M[3],false,R)}})}}function na(o,y){Ka.start(function(M){K();if(M)if(ka(M))s(M.row,M.col,M.row,M.col);else{M=aa(M);var R=sa(C(M),T("defaultEventMinutes"));Y(M,R)}},y)}function ia(o,y,M){var R=Ka.stop();K();R&&va("drop",o,aa(R),ka(R),y,M)}var H=this;H.renderAgenda=e;H.setWidth=h;H.setHeight=g;H.beforeHide=p;H.afterShow=u;H.defaultEventEnd=
V;H.timePosition=oa;H.dayOfWeekCol=X;H.dateCell=la;H.cellDate=aa;H.cellIsAllDay=ka;H.allDayTR=A;H.allDayBounds=ca;H.getHoverListener=function(){return Ka};H.colContentLeft=ha;H.colContentRight=da;H.getDaySegmentContainer=function(){return ub};H.getSlotSegmentContainer=function(){return wb};H.getMinMinute=function(){return xa};H.getMaxMinute=function(){return Ba};H.getBodyContent=function(){return k};H.getRowCnt=function(){return 1};H.getColCnt=function(){return d};H.getColWidth=function(){return U};
H.getSlotHeight=function(){return Z};H.defaultSelectionEnd=c;H.renderDayOverlay=r;H.renderSelection=B;H.clearSelection=G;H.dragStart=na;H.dragStop=ia;lb.call(H,a,b,f);mb.call(H);nb.call(H);Nb.call(H);var T=H.opt,va=H.trigger,W=H.clearEvents,w=H.renderOverlay,K=H.clearOverlays,Q=H.reportSelection,L=H.unselect,D=H.daySelectionMousedown,I=H.slotSegHtml,P=b.formatDate,v,i,k,E,j,d,n=0,t,U,Z,q,x,J,ja,ma,$,qa,ea,pa,xa,Ba,wa,Ka,Qa,db={},za,ub,wb;ob(a.addClass("fc-agenda"));wa=new pb(function(o,y){function M(ya){return Math.max(ra,
Math.min(cb,ya))}var R,ba,ua;j.find("td").each(function(ya,Ob){R=l(Ob);ba=R.offset().left;if(ya)ua[1]=ba;ua=[ba];y[ya]=ua});ua[1]=ba+R.outerWidth();if(T("allDaySlot")){R=v.find("td");ba=R.offset().top;o[0]=[ba,ba+R.outerHeight()]}for(var Da=k.offset().top,ra=i.offset().top,cb=ra+i.outerHeight(),Ja=0;Ja<n;Ja++)o.push([M(Da+Z*Ja),M(Da+Z*(Ja+1))])});Ka=new qb(wa);Qa=new rb(function(o){return j.find("td:eq("+o+") div div")})}function Nb(){function a(i,k){da(i);var E,j=i.length,d=[],n=[];for(E=0;E<j;E++)i[E].allDay?
d.push(i[E]):n.push(i[E]);if(s("allDaySlot")){G(f(d),k);oa()}h(e(n),k)}function b(){X();aa().empty();ka().empty()}function f(i){i=$a(ab(i,l.map(i,Na),r.visStart,r.visEnd));var k,E=i.length,j,d,n,t=[];for(k=0;k<E;k++){j=i[k];for(d=0;d<j.length;d++){n=j[d];n.row=0;n.level=k;t.push(n)}}return t}function e(i){var k=na(),E=V(),j=A(),d=sa(C(r.visStart),E),n=l.map(i,g),t,U,Z,q,x,J,ja=[];for(t=0;t<k;t++){U=$a(ab(i,n,d,sa(C(d),j-E)));Pb(U);for(Z=0;Z<U.length;Z++){q=U[Z];for(x=0;x<q.length;x++){J=q[x];J.col=
t;J.level=Z;ja.push(J)}}S(d,1,true)}return ja}function g(i){return i.end?C(i.end):sa(C(i.start),s("defaultEventMinutes"))}function h(i,k){var E,j=i.length,d,n,t,U,Z,q,x,J,ja,ma,$="",qa,ea,pa={},xa={},Ba=ka(),wa;E=na();if(qa=s("isRTL")){ea=-1;wa=E-1}else{ea=1;wa=0}for(E=0;E<j;E++){d=i[E];n=d.event;t="fc-event fc-event-vert ";if(d.isStart)t+="fc-corner-top ";if(d.isEnd)t+="fc-corner-bottom ";U=c(d.start,d.start);Z=c(d.start,d.end);q=d.col;x=d.level;J=d.forward||0;ja=B(q*ea+wa);ma=F(q*ea+wa)-ja;ma=Math.min(ma-
6,ma*0.95);q=x?ma/(x+J+1):J?(ma/(J+1)-6)*2:ma;x=ja+ma/(x+J+1)*x*ea+(qa?ma-q:0);d.top=U;d.left=x;d.outerWidth=q;d.outerHeight=Z-U;$+=m(n,d,t)}Ba[0].innerHTML=$;qa=Ba.children();for(E=0;E<j;E++){d=i[E];n=d.event;$=l(qa[E]);ea=Y("eventRender",n,n,$);if(ea===false)$.remove();else{if(ea&&ea!==true){$.remove();$=l(ea).css({position:"absolute",top:d.top,left:d.left}).appendTo(Ba)}d.element=$;if(n._id===k)u(n,$,d);else $[0]._fci=E;va(n,$)}}xb(Ba,i,u);for(E=0;E<j;E++){d=i[E];if($=d.element){n=pa[k=d.key=yb($[0])];
d.vsides=n===ga?(pa[k]=Sa($[0],true)):n;n=xa[k];d.hsides=n===ga?(xa[k]=fb($[0],true)):n;k=$.find("span.fc-event-title");if(k.length)d.titleTop=k[0].offsetTop}}for(E=0;E<j;E++){d=i[E];if($=d.element){$[0].style.width=Math.max(0,d.outerWidth-d.hsides)+"px";pa=Math.max(0,d.outerHeight-d.vsides);$[0].style.height=pa+"px";n=d.event;if(d.titleTop!==ga&&pa-d.titleTop<10){$.find("span.fc-event-time").text(P(n.start,s("timeFormat"))+" - "+n.title);$.find("span.fc-event-title").remove()}Y("eventAfterRender",
n,n,$)}}}function m(i,k,E){return"<div class='"+E+i.className.join(" ")+"' style='position:absolute;z-index:8;top:"+k.top+"px;left:"+k.left+"px'><a"+(i.url?" href='"+La(i.url)+"'":"")+"><span class='fc-event-bg'></span><span class='fc-event-time'>"+La(v(i.start,i.end,s("timeFormat")))+"</span><span class='fc-event-title'>"+La(i.title)+"</span></a>"+((i.editable||i.editable===ga&&s("editable"))&&!s("disableResizing")&&l.fn.resizable?"<div class='ui-resizable-handle ui-resizable-s'>=</div>":"")+"</div>"}
function p(i,k,E){la(i,k);if(i.editable||i.editable===ga&&s("editable")){z(i,k,E.isStart);E.isEnd&&fa(i,k,E)}}function u(i,k,E){la(i,k);if(i.editable||i.editable===ga&&s("editable")){var j=k.find("span.fc-event-time");N(i,k,j);E.isEnd&&O(i,k,j)}}function z(i,k,E){if(!s("disableDragging")&&k.draggable){var j,d,n=true,t,U=s("isRTL")?-1:1,Z=ca(),q=ia(),x=H(),J=V();k.draggable({zIndex:9,opacity:s("dragOpacity","month"),revertDuration:s("dragRevertDuration"),start:function(ma,$){Y("eventDragStart",k,i,
ma,$);w(i,k);j=k.width();Z.start(function(qa,ea,pa,xa){D();if(qa){d=false;t=xa*U;if(qa.row)if(E){if(n){k.width(q-10);Pa(k,x*Math.round((i.end?(i.end-i.start)/Qb:s("defaultEventMinutes"))/s("slotMinutes")));k.draggable("option","grid",[q,1]);n=false}}else d=true;else{L(S(C(i.start),t),S(Na(i),t));ja()}d=d||n&&!t}else d=true;k.draggable("option","revert",d)},ma,"drag")},stop:function(ma,$){Z.stop();D();Y("eventDragStop",k,i,ma,$);if(d){ja();l.browser.msie&&k.css("filter","");W(i,k)}else{k.find("a").removeAttr("href");
var qa=0;n||(qa=Math.round((k.offset().top-T().offset().top)/x)*s("slotMinutes")+J-(i.start.getHours()*60+i.start.getMinutes()));K(this,i,t,qa,n,ma,$)}}});function ja(){if(!n){k.width(j).height("").draggable("option","grid",null);n=true}}}}function N(i,k,E){if(!s("disableDragging")&&k.draggable){var j,d=false,n,t,U,Z=s("isRTL")?-1:1,q=ca(),x=na(),J=ia(),ja=H();k.draggable({zIndex:9,scroll:false,grid:[J,ja],axis:x==1?"y":false,opacity:s("dragOpacity"),revertDuration:s("dragRevertDuration"),start:function(qa,
ea){Y("eventDragStart",k,i,qa,ea);w(i,k);l.browser.msie&&k.find("span.fc-event-bg").hide();j=k.position();t=U=0;q.start(function(pa,xa,Ba,wa){k.draggable("option","revert",!pa);D();if(pa){n=wa*Z;if(s("allDaySlot")&&!pa.row){if(!d){d=true;E.hide();k.draggable("option","grid",null)}L(S(C(i.start),n),S(Na(i),n))}else $()}},qa,"drag")},drag:function(qa,ea){t=Math.round((ea.position.top-j.top)/ja)*s("slotMinutes");if(t!=U){d||ma(t);U=t}},stop:function(qa,ea){var pa=q.stop();D();Y("eventDragStop",k,i,qa,
ea);if(pa&&(n||t||d))K(this,i,n,d?0:t,d,qa,ea);else{$();k.css(j);ma(0);l.browser.msie&&k.css("filter","").find("span.fc-event-bg").css("display","");W(i,k)}}});function ma(qa){var ea=sa(C(i.start),qa),pa;if(i.end)pa=sa(C(i.end),qa);E.text(v(ea,pa,s("timeFormat")))}function $(){if(d){E.css("display","");k.draggable("option","grid",[J,ja]);d=false}}}}function O(i,k,E){if(!s("disableResizing")&&k.resizable){var j,d,n=H();k.resizable({handles:{s:"div.ui-resizable-s"},grid:n,start:function(t,U){j=d=0;
w(i,k);l.browser.msie&&l.browser.version=="6.0"&&k.css("overflow","hidden");k.css("z-index",9);Y("eventResizeStart",this,i,t,U)},resize:function(t,U){j=Math.round((Math.max(n,k.height())-U.originalSize.height)/n);if(j!=d){E.text(v(i.start,!j&&!i.end?null:sa(ha(i),s("slotMinutes")*j),s("timeFormat")));d=j}},stop:function(t,U){Y("eventResizeStop",this,i,t,U);if(j)Q(this,i,0,s("slotMinutes")*j,t,U);else{k.css("z-index",8);W(i,k)}}})}}var r=this;r.renderEvents=a;r.compileDaySegs=f;r.clearEvents=b;r.slotSegHtml=
m;r.bindDaySeg=p;sb.call(r);var s=r.opt,Y=r.trigger,ha=r.eventEnd,da=r.reportEvents,X=r.reportEventClear,la=r.eventElementHandlers,oa=r.setHeight,aa=r.getDaySegmentContainer,ka=r.getSlotSegmentContainer,ca=r.getHoverListener,A=r.getMaxMinute,V=r.getMinMinute,c=r.timePosition,B=r.colContentLeft,F=r.colContentRight,G=r.renderDaySegs,fa=r.resizableDayEvent,na=r.getColCnt,ia=r.getColWidth,H=r.getSlotHeight,T=r.getBodyContent,va=r.reportEventElement,W=r.showEvents,w=r.hideEvents,K=r.eventDrop,Q=r.eventResize,
L=r.renderDayOverlay,D=r.clearOverlays,I=r.calendar,P=I.formatDate,v=I.formatDates}function Pb(a){var b,f,e,g,h,m;for(b=a.length-1;b>0;b--){g=a[b];for(f=0;f<g.length;f++){h=g[f];for(e=0;e<a[b-1].length;e++){m=a[b-1][e];if(zb(h,m))m.forward=Math.max(m.forward||0,(h.forward||0)+1)}}}}function lb(a,b,f){function e(c,B){c=V[c];if(typeof c=="object")return Wa(c,B||f);return c}function g(c,B){return b.trigger.apply(b,[c,B||X].concat(Array.prototype.slice.call(arguments,2),[X]))}function h(c){ka={};var B,
F=c.length,G;for(B=0;B<F;B++){G=c[B];if(ka[G._id])ka[G._id].push(G);else ka[G._id]=[G]}}function m(c){return c.end?C(c.end):la(c)}function p(c,B){ca.push(B);if(A[c._id])A[c._id].push(B);else A[c._id]=[B]}function u(){ca=[];A={}}function z(c,B){B.click(function(F){if(!B.hasClass("ui-draggable-dragging")&&!B.hasClass("ui-resizable-resizing"))return g("eventClick",this,c,F)}).hover(function(F){g("eventMouseover",this,c,F)},function(F){g("eventMouseout",this,c,F)})}function N(c,B){r(c,B,"show")}function O(c,
B){r(c,B,"hide")}function r(c,B,F){c=A[c._id];var G,fa=c.length;for(G=0;G<fa;G++)if(!B||c[G][0]!=B[0])c[G][F]()}function s(c,B,F,G,fa,na,ia){var H=B.allDay,T=B._id;ha(ka[T],F,G,fa);g("eventDrop",c,B,F,G,fa,function(){ha(ka[T],-F,-G,H);aa(T)},na,ia);aa(T)}function Y(c,B,F,G,fa,na){var ia=B._id;da(ka[ia],F,G);g("eventResize",c,B,F,G,function(){da(ka[ia],-F,-G);aa(ia)},fa,na);aa(ia)}function ha(c,B,F,G){F=F||0;for(var fa,na=c.length,ia=0;ia<na;ia++){fa=c[ia];if(G!==ga)fa.allDay=G;sa(S(fa.start,B,true),
F);if(fa.end)fa.end=sa(S(fa.end,B,true),F);oa(fa,V)}}function da(c,B,F){F=F||0;for(var G,fa=c.length,na=0;na<fa;na++){G=c[na];G.end=sa(S(m(G),B,true),F);oa(G,V)}}var X=this;X.element=a;X.calendar=b;X.name=f;X.opt=e;X.trigger=g;X.reportEvents=h;X.eventEnd=m;X.reportEventElement=p;X.reportEventClear=u;X.eventElementHandlers=z;X.showEvents=N;X.hideEvents=O;X.eventDrop=s;X.eventResize=Y;var la=X.defaultEventEnd,oa=b.normalizeEvent,aa=b.reportEventChange,ka={},ca=[],A={},V=b.options}function sb(){function a(w,
K){var Q=na(),L=ka(),D=ca(),I=0,P,v,i=w.length,k,E;Q[0].innerHTML=f(w);e(w,Q.children());g(w);h(w,Q,K);m(w);p(w);u(w);K=z();for(Q=0;Q<L;Q++){P=[];for(v=0;v<D;v++)P[v]=0;for(;I<i&&(k=w[I]).row==Q;){v=Ab(P.slice(k.startCol,k.endCol));k.top=v;v+=k.outerHeight;for(E=k.startCol;E<k.endCol;E++)P[E]=v;I++}K[Q].height(Ab(P))}O(w,N(K))}function b(w,K,Q){var L=l("<div/>"),D=na(),I=w.length,P;L[0].innerHTML=f(w);L=L.children();D.append(L);e(w,L);m(w);p(w);u(w);O(w,N(z()));L=[];for(D=0;D<I;D++)if(P=w[D].element){w[D].row===
K&&P.css("top",Q);L.push(P[0])}return l(L)}function f(w){var K=Y("isRTL"),Q,L=w.length,D,I,P;Q=V();var v=Q.left,i=Q.right,k=[],E,j,d="";for(Q=0;Q<L;Q++){D=w[Q];I=D.event;P="fc-event fc-event-hori ";if(K){if(D.isStart)P+="fc-corner-right ";if(D.isEnd)P+="fc-corner-left ";k[0]=F(D.end.getDay()-1);k[1]=F(D.start.getDay());E=D.isEnd?c(k[0]):v;j=D.isStart?B(k[1]):i}else{if(D.isStart)P+="fc-corner-left ";if(D.isEnd)P+="fc-corner-right ";k[0]=F(D.start.getDay());k[1]=F(D.end.getDay()-1);E=D.isStart?c(k[0]):
v;j=D.isEnd?B(k[1]):i}d+="<div class='"+P+I.className.join(" ")+"' style='position:absolute;z-index:8;left:"+E+"px'><a"+(I.url?" href='"+La(I.url)+"'":"")+">"+(!I.allDay&&D.isStart?"<span class='fc-event-time'>"+La(H(I.start,I.end,Y("timeFormat")))+"</span>":"")+"<span class='fc-event-title'>"+La(I.title)+"</span></a>"+(D.isEnd&&(I.editable||I.editable===ga&&Y("editable"))&&!Y("disableResizing")?"<div class='ui-resizable-handle ui-resizable-"+(K?"w":"e")+"'></div>":"")+"</div>";D.left=E;D.outerWidth=
j-E;k.sort(eb);D.startCol=k[0];D.endCol=k[1]+1}return d}function e(w,K){var Q,L=w.length,D,I,P;for(Q=0;Q<L;Q++){D=w[Q];I=D.event;P=l(K[Q]);I=ha("eventRender",I,I,P);if(I===false)P.remove();else{if(I&&I!==true){I=l(I).css({position:"absolute",left:D.left});P.replaceWith(I);P=I}D.element=P}}}function g(w){var K,Q=w.length,L,D;for(K=0;K<Q;K++){L=w[K];(D=L.element)&&X(L.event,D)}}function h(w,K,Q){var L,D=w.length,I,P,v;for(L=0;L<D;L++){I=w[L];if(P=I.element){v=I.event;if(v._id===Q)ia(v,P,I);else P[0]._fci=
L}}xb(K,w,ia)}function m(w){var K,Q=w.length,L,D,I,P,v={};for(K=0;K<Q;K++){L=w[K];if(D=L.element){I=L.key=yb(D[0]);P=v[I];if(P===ga)P=v[I]=fb(D[0],true);L.hsides=P}}}function p(w){var K,Q=w.length,L,D;for(K=0;K<Q;K++){L=w[K];if(D=L.element)D[0].style.width=Math.max(0,L.outerWidth-L.hsides)+"px"}}function u(w){var K,Q=w.length,L,D,I,P,v={};for(K=0;K<Q;K++){L=w[K];if(D=L.element){I=L.key;P=v[I];if(P===ga)P=v[I]=Bb(D[0]);L.outerHeight=D[0].offsetHeight+P}}}function z(){var w,K=ka(),Q=[];for(w=0;w<K;w++)Q[w]=
A(w).find("td:first div.fc-day-content > div");return Q}function N(w){var K,Q=w.length,L=[];for(K=0;K<Q;K++)L[K]=w[K][0].offsetTop;return L}function O(w,K){var Q,L=w.length,D,I;for(Q=0;Q<L;Q++){D=w[Q];if(I=D.element){I[0].style.top=K[D.row]+(D.top||0)+"px";D=D.event;ha("eventAfterRender",D,D,I)}}}function r(w,K,Q){if(!Y("disableResizing")&&Q.isEnd){var L=Y("isRTL"),D=L?"w":"e";K.find("div.ui-resizable-"+D).mousedown(function(I){function P(q){ha("eventResizeStop",this,w,q);l("body").css("cursor","auto");
v.stop();va();n&&aa(this,w,n,0,q)}if(I.which==1){var v=s.getHoverListener(),i=ka(),k=ca(),E=L?-1:1,j=L?k:0,d=K.css("top"),n,t,U=l.extend({},w),Z=G(w.start);W();l("body").css("cursor",D+"-resize").one("mouseup",P);ha("eventResizeStart",this,w,I);v.start(function(q,x){if(q){var J=Math.max(Z.row,q.row);q=q.col;if(i==1)J=0;if(J==Z.row)q=L?Math.min(Z.col,q):Math.max(Z.col,q);n=J*7+q*E+j-(x.row*7+x.col*E+j);x=S(da(w),n,true);if(n){U.end=x;J=t;t=b(fa([U]),Q.row,d);t.find("*").css("cursor",D+"-resize");J&&
J.remove();oa(w)}else if(t){la(w);t.remove();t=null}va();T(w.start,S(C(x),1))}},I)}})}}var s=this;s.renderDaySegs=a;s.resizableDayEvent=r;var Y=s.opt,ha=s.trigger,da=s.eventEnd,X=s.reportEventElement,la=s.showEvents,oa=s.hideEvents,aa=s.eventResize,ka=s.getRowCnt,ca=s.getColCnt,A=s.allDayTR,V=s.allDayBounds,c=s.colContentLeft,B=s.colContentRight,F=s.dayOfWeekCol,G=s.dateCell,fa=s.compileDaySegs,na=s.getDaySegmentContainer,ia=s.bindDaySeg,H=s.calendar.formatDates,T=s.renderDayOverlay,va=s.clearOverlays,
W=s.clearSelection}function nb(){function a(O,r,s){b();r||(r=p(O,s));u(O,r,s);f(O,r,s)}function b(O){if(N){N=false;z();m("unselect",null,O)}}function f(O,r,s,Y){N=true;m("select",null,O,r,s,Y)}function e(O){var r=g.cellDate,s=g.cellIsAllDay,Y=g.getHoverListener();if(O.which==1&&h("selectable")){b(O);var ha=this,da;Y.start(function(X,la){z();if(X&&s(X)){da=[r(la),r(X)].sort(eb);u(da[0],da[1],true)}else da=null},O);l(document).one("mouseup",function(X){Y.stop();if(da){+da[0]==+da[1]&&m("dayClick",ha,
da[0],true,X);f(da[0],da[1],true,X)}})}}var g=this;g.select=a;g.unselect=b;g.reportSelection=f;g.daySelectionMousedown=e;var h=g.opt,m=g.trigger,p=g.defaultSelectionEnd,u=g.renderSelection,z=g.clearSelection,N=false;h("selectable")&&h("unselectAuto")&&l(document).mousedown(function(O){var r=h("unselectCancel");if(r)if(l(O.target).parents(r).length)return;b(O)})}function mb(){function a(h,m){var p=g.shift();p||(p=l("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));p[0].parentNode!=
m[0]&&p.appendTo(m);e.push(p.css(h).show());return p}function b(){for(var h;h=e.shift();)g.push(h.hide().unbind())}var f=this;f.renderOverlay=a;f.clearOverlays=b;var e=[],g=[]}function pb(a){var b=this,f,e;b.build=function(){f=[];e=[];a(f,e)};b.cell=function(g,h){var m=f.length,p=e.length,u,z=-1,N=-1;for(u=0;u<m;u++)if(h>=f[u][0]&&h<f[u][1]){z=u;break}for(u=0;u<p;u++)if(g>=e[u][0]&&g<e[u][1]){N=u;break}return z>=0&&N>=0?{row:z,col:N}:null};b.rect=function(g,h,m,p,u){u=u.offset();return{top:f[g][0]-
u.top,left:e[h][0]-u.left,width:e[p][1]-e[h][0],height:f[m][1]-f[g][0]}}}function qb(a){function b(p){p=a.cell(p.pageX,p.pageY);if(!p!=!m||p&&(p.row!=m.row||p.col!=m.col)){if(p){h||(h=p);g(p,h,p.row-h.row,p.col-h.col)}else g(p,h);m=p}}var f=this,e,g,h,m;f.start=function(p,u,z){g=p;h=m=null;a.build();b(u);e=z||"mousemove";l(document).bind(e,b)};f.stop=function(){l(document).unbind(e,b);return m}}function rb(a){function b(m){return e[m]=e[m]||a(m)}var f=this,e={},g={},h={};f.left=function(m){return g[m]=
g[m]===ga?b(m).position().left:g[m]};f.right=function(m){return h[m]=h[m]===ga?f.left(m)+b(m).width():h[m]};f.clear=function(){e={};g={};h={}}}function Ta(a,b,f){a.setFullYear(a.getFullYear()+b);f||Ga(a);return a}function Ua(a,b,f){if(+a){b=a.getMonth()+b;var e=C(a);e.setDate(1);e.setMonth(b);a.setMonth(b);for(f||Ga(a);a.getMonth()!=e.getMonth();)a.setDate(a.getDate()+(a<e?1:-1))}return a}function S(a,b,f){if(+a){b=a.getDate()+b;var e=C(a);e.setHours(9);e.setDate(b);a.setDate(b);f||Ga(a);gb(a,e)}return a}
function gb(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*Rb)}function sa(a,b){a.setMinutes(a.getMinutes()+b);return a}function Ga(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function C(a,b){if(b)return Ga(new Date(+a));return new Date(+a)}function vb(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours());return b}function ta(a,b,f){for(b=b||1;!a.getDay()||f&&a.getDay()==1||!f&&a.getDay()==6;)S(a,b);return a}function Aa(a,b){return Math.round((C(a,
true)-C(b,true))/kb)}function jb(a,b,f,e){if(b!==ga&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(f!==ga&&f!=a.getMonth()){a.setDate(1);a.setMonth(f)}e!==ga&&a.setDate(e)}function Xa(a,b){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+$/))return new Date(parseInt(a,10)*1E3);if(b===ga)b=true;return Cb(a,b)||(a?new Date(a):null)}return null}function Cb(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?$/);
if(!a)return null;var f=new Date(a[1],0,1);if(b||!a[14]){b=new Date(a[1],0,1,9,0);if(a[3]){f.setMonth(a[3]-1);b.setMonth(a[3]-1)}if(a[5]){f.setDate(a[5]);b.setDate(a[5])}gb(f,b);a[7]&&f.setHours(a[7]);a[8]&&f.setMinutes(a[8]);a[10]&&f.setSeconds(a[10]);a[12]&&f.setMilliseconds(Number("0."+a[12])*1E3);gb(f,b)}else{f.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);f.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);b=Number(a[16])*60+Number(a[17]);b*=a[15]=="-"?1:-1;f=new Date(+f+b*60*
1E3)}return f}function bb(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1],10);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2],10):0)}}function Ha(a,b,f){return Va(a,null,b,f)}function Va(a,b,f,e){e=e||Oa;var g=a,h=b,m,p=f.length,u,z,N,O="";for(m=0;m<p;m++){u=f.charAt(m);if(u=="'")for(z=m+1;z<p;z++){if(f.charAt(z)=="'"){if(g){O+=z==m+1?"'":f.substring(m+
1,z);m=z}break}}else if(u=="(")for(z=m+1;z<p;z++){if(f.charAt(z)==")"){m=Ha(g,f.substring(m+1,z),e);if(parseInt(m.replace(/\D/,""),10))O+=m;m=z;break}}else if(u=="[")for(z=m+1;z<p;z++){if(f.charAt(z)=="]"){u=f.substring(m+1,z);m=Ha(g,u,e);if(m!=Ha(h,u,e))O+=m;m=z;break}}else if(u=="{"){g=b;h=a}else if(u=="}"){g=a;h=b}else{for(z=p;z>m;z--)if(N=Sb[f.substring(m,z)]){if(g)O+=N(g,e);m=z-1;break}if(z==m)if(g)O+=u}}return O}function Na(a){return a.end?Tb(a.end,a.allDay):S(C(a.start),1)}function Tb(a,b){a=
C(a);return b||a.getHours()||a.getMinutes()?S(a,1):Ga(a)}function Ub(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function zb(a,b){return a.end>b.start&&a.start<b.end}function ab(a,b,f,e){var g=[],h,m=a.length,p,u,z,N,O;for(h=0;h<m;h++){p=a[h];u=p.start;z=b[h];if(z>f&&u<e){if(u<f){u=C(f);N=false}else{u=u;N=true}if(z>e){z=C(e);O=false}else{z=z;O=true}g.push({event:p,start:u,end:z,isStart:N,isEnd:O,msLength:z-u})}}return g.sort(Ub)}function $a(a){var b=[],f,e=a.length,g,h,m,
p;for(f=0;f<e;f++){g=a[f];for(h=0;;){m=false;if(b[h])for(p=0;p<b[h].length;p++)if(zb(b[h][p],g)){m=true;break}if(m)h++;else break}if(b[h])b[h].push(g);else b[h]=[g]}return b}function xb(a,b,f){a.unbind("mouseover").mouseover(function(e){for(var g=e.target,h;g!=this;){h=g;g=g.parentNode}if((g=h._fci)!==ga){h._fci=ga;h=b[g];f(h.event,h.element,h);l(e.target).trigger(e)}e.stopPropagation()})}function Ia(a,b,f){a.each(function(e,g){g.style.width=Math.max(0,b-fb(g,f))+"px"})}function Pa(a,b,f){a.each(function(e,
g){g.style.height=Math.max(0,b-Sa(g,f))+"px"})}function fb(a,b){return(parseFloat(l.curCSS(a,"paddingLeft",true))||0)+(parseFloat(l.curCSS(a,"paddingRight",true))||0)+(parseFloat(l.curCSS(a,"borderLeftWidth",true))||0)+(parseFloat(l.curCSS(a,"borderRightWidth",true))||0)+(b?Vb(a):0)}function Vb(a){return(parseFloat(l.curCSS(a,"marginLeft",true))||0)+(parseFloat(l.curCSS(a,"marginRight",true))||0)}function Sa(a,b){return(parseFloat(l.curCSS(a,"paddingTop",true))||0)+(parseFloat(l.curCSS(a,"paddingBottom",
true))||0)+(parseFloat(l.curCSS(a,"borderTopWidth",true))||0)+(parseFloat(l.curCSS(a,"borderBottomWidth",true))||0)+(b?Bb(a):0)}function Bb(a){return(parseFloat(l.curCSS(a,"marginTop",true))||0)+(parseFloat(l.curCSS(a,"marginBottom",true))||0)}function Ra(a,b){b=typeof b=="number"?b+"px":b;a[0].style.cssText+=";min-height:"+b+";_height:"+b}function ib(){}function eb(a,b){return a-b}function Ab(a){return Math.max.apply(Math,a)}function Ma(a){return(a<10?"0":"")+a}function Wa(a,b){if(a[b]!==ga)return a[b];
b=b.split(/(?=[A-Z])/);for(var f=b.length-1,e;f>=0;f--){e=a[b[f].toLowerCase()];if(e!==ga)return e}return a[""]}function La(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function yb(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function ob(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}
var Oa={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September",
"October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},
unselectAuto:true,dropAccept:"*"},Wb={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Ea=l.fullCalendar={version:"1.4.11"},Fa=Ea.views={};l.fn.fullCalendar=function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,1),f;this.each(function(){var g=l.data(this,"fullCalendar");if(g&&
l.isFunction(g[a])){g=g[a].apply(g,b);if(f===ga)f=g;a=="destroy"&&l.removeData(this,"fullCalendar")}});if(f!==ga)return f;return this}var e=a.eventSources||[];delete a.eventSources;if(a.events){e.push(a.events);delete a.events}a=l.extend(true,{},Oa,a.isRTL||a.isRTL===ga&&Oa.isRTL?Wb:{},a);this.each(function(g,h){g=l(h);h=new Db(g,a,e);g.data("fullCalendar",h);h.render()});return this};var Gb=1;Fa.month=Hb;Fa.basicWeek=Ib;Fa.basicDay=Jb;var Za;hb({weekMode:"fixed"});Fa.agendaWeek=Lb;Fa.agendaDay=Mb;
hb({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});Ea.addDays=S;Ea.cloneDate=C;Ea.parseDate=Xa;Ea.parseISO8601=Cb;Ea.parseTime=bb;Ea.formatDate=Ha;Ea.formatDates=Va;var Ca=["sun","mon","tue","wed","thu","fri","sat"],kb=864E5,Rb=36E5,Qb=6E4,Sb={s:function(a){return a.getSeconds()},ss:function(a){return Ma(a.getSeconds())},m:function(a){return a.getMinutes()},
mm:function(a){return Ma(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Ma(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return Ma(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Ma(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Ma(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},
MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Ha(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"}}})(jQuery);
