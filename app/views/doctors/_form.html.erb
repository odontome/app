<%= form_for(@doctor) do |f| %>
  <%= render "shared/error_messages", :target => @doctor %>

  <div class="card card-md">
    <div class="card-body">
      <div class="mb-3">
        <%= f.label :firstname, class: "form-label required" %>
        <%= f.text_field :firstname, :class => "form-control" %>
      </div>

      <div class="mb-3">
        <%= f.label :lastname, class: "form-label required" %>
        <%= f.text_field :lastname, :class => "form-control"  %>
      </div>

      <div class="mb-3">
        <%= f.label :uid, class: "form-label" %>
        <%= f.text_field :uid, :class => "form-control" %>
        <%= content_tag "small", t(:only_if_clinic_uses_uid), class: "text-muted" %>
      </div>

      <div class="mb-3">
        <%= f.label :email, class: "form-label" %>
        <%= f.email_field :email, :class => "form-control" %>
      </div>

      <div class="mb-3">
        <%= f.label :gender, class: "form-label" %>
        <%= f.select(:gender, [[t(:male),(t(:male)).downcase],[t(:female),(t(:female)).downcase]], {}, { :class => "form-select" }) %>
      </div>

      <div class="mb-3">
        <%= f.label :speciality, class: "form-label" %>
        <%= f.text_field :speciality, :class => "form-control" %>
      </div>

      <div class="mb-3">
        <%= f.label :calendar_color, class: "form-label" %>
        <%= f.color_field :color, :class => "form-control form-control-color" %>
      </div>

      <div class="mb-3">
        <%= f.label :profile_picture_url, t(:profile_picture), class: "form-label" %>
        <% if simple_file_upload_public_key.present? %>
          <simple-file-upload
            public-key="<%= simple_file_upload_public_key %>"
            max-file-size="1048576"
            multiple="false"
            data-hidden-input="doctor_profile_picture_url"
            tag="doctor_profile_picture_<%= @current_user.practice_id %>"
            accept="image/jpeg,image/png"
          ></simple-file-upload>
          <small class="form-hint text-muted"><%= t(:profile_picture_hint) %></small>
        <% end %>
        <%= f.hidden_field :profile_picture_url, id: "doctor_profile_picture_url" %>
        <% if f.object.profile_picture_url.present? %>
          <div class="mt-3 d-flex align-items-center gap-3" data-profile-picture-preview="true">
            <%= avatar_for(f.object, size: 96, classes: 'avatar avatar-lg rounded-circle') %>
            <%= button_tag t(:remove_profile_picture), type: :button, class: "btn btn-outline-danger btn-sm", data: { behavior: "clear-profile-picture", target: "doctor_profile_picture_url" } %>
          </div>
        <% end %>
      </div>
    </div>
  
    <div class="card-footer text-end">
      <div class="d-flex">
        <%= f.submit(t(:save), :class => "btn btn-primary ms-auto", data: { disable_with: t(:please_wait) }) %>
      </div>
    </div>
  </div>
<% end %>
